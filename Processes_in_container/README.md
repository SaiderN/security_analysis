Скрипт на языке bash, который для всех активных процессов в операционной системе linux, определяет и маркирует с помощью строки «Process running in the container --->» процессы, функционирующие в контейнере. В скрипте не допускается использование команд docker и runc, утилиты nsenter, а также чтение файлов cgroup каждого процесса (/proc/<pid>/cgroup).

Процессы должны определяться независимо от runtime, который им управляет, т.е. в системе docker может быть не установлен, соответственно файла .dockerenv может и не быть.

Список процессов должен выводиться в формате «USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND» и содержать соответствующий заголовок.

Блок процессов, функционирующих в контейнере, должен отделяться от остальных процессов с помощью пустой строки до и после блока.

Мы сравниваем идентификаторы namespace. init процесс и контейнер процесс имеют разные номера, так как контейнеризация создаёт изоляцию. Если pid и net или mnt одинаковые - этот процесс не в контейнере